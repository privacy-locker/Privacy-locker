<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Register | Privacy Locker</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- HEADER -->
  <header>
    <nav class="navbar">
      <div class="logo">ğŸ” Privacy Locker</div>
      <ul class="nav-links">
        <li><a href="contact.html">Contact</a></li>
      </ul>
    </nav>
  </header>

  <!-- REGISTER FORM -->
<section class="form-section">
  <form class="form-box" id="registerForm">
    <h2>Create Account</h2>

    <input type="text" placeholder="Full Name" required />
    <input type="email" placeholder="Email" required />
    <input type="password" placeholder="Password" required />
    <input type="password" placeholder="Confirm Password" required />

    <!-- Timezone select -->
    <div class="select-wrapper">
      <select id="timezone" name="timezone" required>
        <option value="">-- Select Time Zone --</option>
        <option value="UTCâˆ’12:00">UTCâˆ’12:00 â€” Baker Island (U.S.)</option>
        <option value="UTCâˆ’11:00">UTCâˆ’11:00 â€” American Samoa</option>
        <option value="UTCâˆ’10:00">UTCâˆ’10:00 â€” Hawaii (U.S.)</option>
        <option value="UTCâˆ’09:00">UTCâˆ’09:00 â€” Alaska (U.S.)</option>
        <option value="UTCâˆ’08:00">UTCâˆ’08:00 â€” Pacific Time (U.S., Canada)</option>
        <option value="UTCâˆ’07:00">UTCâˆ’07:00 â€” Mountain Time (U.S., Canada)</option>
        <option value="UTCâˆ’06:00">UTCâˆ’06:00 â€” Central Time (U.S., Mexico)</option>
        <option value="UTCâˆ’05:00">UTCâˆ’05:00 â€” Eastern Time (U.S., Canada)</option>
        <option value="UTCâˆ’04:00">UTCâˆ’04:00 â€” Atlantic Time (Canada), Caribbean</option>
        <option value="UTCâˆ’03:00">UTCâˆ’03:00 â€” Argentina, Brazil</option>
        <option value="UTCâˆ’02:00">UTCâˆ’02:00 â€” South Georgia & South Sandwich Islands</option>
        <option value="UTCâˆ’01:00">UTCâˆ’01:00 â€” Azores (Portugal), Cape Verde</option>
        <option value="UTCÂ±00:00">UTCÂ±00:00 â€” UK, Portugal, West Africa</option>
        <option value="UTC+01:00">UTC+01:00 â€” Central Europe, Nigeria</option>
        <option value="UTC+02:00">UTC+02:00 â€” South Africa, Egypt, Greece</option>
        <option value="UTC+03:00">UTC+03:00 â€” Russia (Moscow), Saudi Arabia</option>
        <option value="UTC+04:00">UTC+04:00 â€” UAE, Armenia, Azerbaijan</option>
        <option value="UTC+05:00">UTC+05:00 â€” Pakistan, Uzbekistan</option>
        <option value="UTC+06:00">UTC+06:00 â€” Bangladesh, Kazakhstan</option>
        <option value="UTC+07:00">UTC+07:00 â€” Thailand, Vietnam, Indonesia (West)</option>
        <option value="UTC+08:00">UTC+08:00 â€” China, Malaysia, Australia (Western)</option>
        <option value="UTC+09:00">UTC+09:00 â€” Japan, Korea</option>
        <option value="UTC+10:00">UTC+10:00 â€” Australia (East), Papua New Guinea</option>
        <option value="UTC+11:00">UTC+11:00 â€” Solomon Islands, New Caledonia</option>
        <option value="UTC+12:00">UTC+12:00 â€” New Zealand, Fiji</option>
      </select>
    </div>

    <button type="submit" class="btn">Register</button>
    <p>Already have an account? <a href="index.html">Login</a></p>
  </form>
</section>


  <script>
  document.getElementById("registerForm").addEventListener("submit", function(e) {
    e.preventDefault();

    const form = e.target;
    const password = form.querySelector('input[placeholder="Password"]').value;
    const confirmPassword = form.querySelector('input[placeholder="Confirm Password"]').value;
    const timezoneSelect = form.querySelector('#timezone');
    const timezone = timezoneSelect.value;
    const timezoneLabel = timezoneSelect.options[timezoneSelect.selectedIndex].text;

    const passwordPattern = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@])[A-Za-z\d@]{8,}$/;

if (password !== confirmPassword) {
  alert("âŒ Passwords do not match!");
  return;
}

if (!passwordPattern.test(password)) {
  alert("âŒ Password must contain:\n- At least 8 characters\n- Uppercase letter\n- Lowercase letter\n- Number\n- Special symbol like(@ or _)");
  return;
}


    if (!timezone) {
      alert("âŒ Please select a time zone.");
      return;
    }

    // Save user info in localStorage (mock database)
    localStorage.setItem("userEmail", form.querySelector('input[placeholder="Email"]').value);
    localStorage.setItem("userPassword", password);
    localStorage.setItem("userTimezone", timezone);
   

    // Generate locker password (time-based simple version = current HHMM)
    const now = new Date();
    const hours = String(now.getHours()).padStart(2, "0");
    const minutes = String(now.getMinutes()).padStart(2, "0");
    const lockerPassword = hours + minutes;

    localStorage.setItem("lockerPassword", lockerPassword);

    alert(`âœ… Registration successful!
Locker Password (time-based): ${lockerPassword}
Time Zone: ${timezoneLabel}
Redirecting to Login...`);

    window.location.href = "index.html";
  });
</script>
</body>
</html>
